$menu_animation_time: 0.3s;
$menu_breakpoint: 1200px;

// .border-bottom-menu-item {
	
// }

.main-navigation {
	display: flex;
	@media (max-width: 1200px) {
		height: 80px;
	}
	ul {
		display: none;

		@media (max-width: $menu_breakpoint) {
			display: block;
			visibility: hidden;
			opacity: 0;
			transition: visibility $menu_animation_time ease $menu_animation_time, opacity $menu_animation_time !important;
		}
		
		list-style: none;
		margin: 0;
		padding-left: 0;

		.menu-item-has-children {
			ul {
				float: left;
				position: absolute;
				height: 0 !important;
				overflow: hidden;

				@media (max-width: $menu_breakpoint) {
					position: relative;
					height: 0 !important;
					transition: height $menu_animation_time, visibility $menu_animation_time ease $menu_animation_time, opacity $menu_animation_time !important;
				}
				
				top: 100%;
				// left: -999em;
				opacity: 0;
				z-index: 99998;
				transition: opacity 0.3s ease-in-out;

				@media (max-width: 1200px) {
					// transition: height 0.3s ease-in-out;
					// height: 0 !important;
				}
	
				ul {
					left: -999em;
					top: 0;
				}
	
				li {
					transition: 0.3s;
	
					&:hover > ul,
					&.focus > ul {
						display: block;
						left: auto;
					}
				}
	
				a {
					width: 200px;
				}
			}

			&:hover {
				overflow: visible;

				ul {
					opacity: 1;
				}
			}
		}

		li.focus {
			a {
				span {
					color: white;
				}
	
				i {
					transform: matrix(1, 0, 0, -1, 0, 0);
				}
			}
		}

		li:hover > ul,
		li.focus > ul {
			left: auto;
			opacity: 1;
			height: auto !important;

			@media (max-width: $menu_breakpoint) {
				opacity: 1 !important;
				position: relative;
			}
		}
		
		@media (max-width: $menu_breakpoint) {
			li:hover > ul {
				height: 0 !important;
				opacity: 0 !important;
				overflow: hidden;
			}
			li.focus:hover > ul {
				height: 132px !important;
				opacity: 1 !important;
			}

			li > ul {
				height: 0px !important;
				opacity: 0 !important;
				overflow: hidden;
	
				@media (max-width: 1200px) {
					position: relative;
				}
			}
		}
	}

	li {
		position: relative;
		margin: 0 22px 0 30px;
	}

	a {
		display: block;
		text-decoration: none;
	}

	.current_page_item > a,
	.current-menu-item > a,
	.current_page_ancestor > a,
	.current-menu-ancestor > a {
		color: $color__text-white !important;

		&::after {
			width: 30px;
			height: 3px;
			position: absolute;
			bottom: -1.5px;
			left: 0;
			right: 0;
			margin: auto;
			background-color: $color__primary;
			content: "";
		}

		@media (max-width: 1200px) {
			&::after {
				display: none;
			}
		}
		
		
	}

	.sub-menu {
		.current_page_item > a,
		.current-menu-item > a,
		.current_page_ancestor > a,
		.current-menu-ancestor > a {
			&::after {
				display: none;
			}

			color: $color__secondary !important;

			@media (max-width: 1200px) {
				color: $color__text-white !important;
			}
		}

		.current_page_item,
		.current-menu-item,
		.current_page_ancestor,
		.current-menu-ancestor {
			background-color: $color__text-black-5;
		}
	}
}

@media all and (max-width: 1200px) {
	.main-navigation {
		margin-left: calc(100% - 152px - 4% - 87px - 87px);
	}
}


/* Small menu. */
.menu-toggle,
.main-navigation.toggled ul {
	visibility: visible;
	opacity: 1;
	transition: visibility $menu_animation_time, opacity $menu_animation_time !important;
}

@media screen and (min-width: 75em) {

	.menu-toggle {
		visibility: hidden;
	}

	.main-navigation ul {
		display: flex;
	}
}

.comment-navigation,
.posts-navigation,
.post-navigation {

	.site-main & {
		margin: 0 0 1.5em;
	}

	.nav-links {
		display: flex;
	}

	.nav-previous {
		flex: 1 0 50%;
	}

	.nav-next {
		text-align: end;
		flex: 1 0 50%;
	}
}

